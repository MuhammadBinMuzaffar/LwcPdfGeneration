<template>
    <lightning-modal-header label='PDF'></lightning-modal-header>
    <lightning-modal-body>
        <div class="container" style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-family: 'Arial Unicode MS', Arial, sans-serif;">
            <div style="margin-bottom: 50px;">
                <div style="float: right; text-align: right;">
                    <div style="font-size: 1.2em; font-weight: bold;">Invoice No.: {invoiceData.invoiceNo}</div>
                    <div>Invoice Created: {formattedInvoiceDate}</div>
                </div>
                <div style="clear: both;"></div>
            </div>
            <div style="margin-bottom: 30px;">
                <div style="font-size: 1.2em; font-weight: bold;">Company Details:</div>
                <div>{invoiceData.companyName}</div>
                <div>{invoiceData.address1}</div>
                <div>{invoiceData.address2}</div>
            </div>
            <div style="margin-bottom: 30px;">
                <div style="font-size: 1.2em; font-weight: bold;">Client Details:</div>
                <div>Client: {clientData.client}</div>
                <div>User Name: {clientData.userName}</div>
                <div>Email: {clientData.email}</div>
            </div>
            <div style="background: #f5f5f5; padding: 10px; margin-top: 20px; border-radius: 4px;">
                <div style="display: inline-block; width: 70%;"><strong>Service</strong></div>
                <div style="display: inline-block; width: 30%; text-align: right;"><strong>Amount</strong></div>
            </div>
            <template iterator:service={services}>
                <div key={service.value.name} style="border-bottom: 1px solid #ddd; padding: 8px 0;">
                    <div style="display: inline-block; width: 70%;">{service.value.name}</div>
                    <div style="display: inline-block; width: 30%; text-align: right;">${service.value.amount}</div>
                </div>
                <div if:true={service.last} key={service.value.name} style="padding: 8px 0;">
                    <div style="display: inline-block; width: 70%;"></div>
                    <div style="display: inline-block; width: 30%; text-align: right;"><strong>Total Amount: ${totalAmount}</strong></div>
                </div>
            </template>
        </div>
    </lightning-modal-body>
    <lightning-modal-footer>
        <lightning-button variant="brand" label="Generate PDF" onclick={pdfHandler}></lightning-button>
    </lightning-modal-footer>
</template>